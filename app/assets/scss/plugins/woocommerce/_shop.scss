/**
 * Productos
 */
@use "sass:math";

// Contenedor.
.site-shop {
	.woocommerce-breadcrumb,
	ul.products {
		margin-right: auto;
		margin-left: auto;
	}
}

ul.products {
	display: grid;
	gap: rem(15) rem(10);

	@include from(medium) {
		gap: 2rem;
	}

	&::before,
	&::after {
		display: none;
	}

	&.columns-2 {
		grid-template-columns: repeat(2, 1fr);
	}

	// Si se quieren agregar más columnas hay que aumentar el último valor luego
	// de through (6). Y hacer modificaciones extras a medida.
	@for $i from 3 through 6 {
		&.columns-#{$i} {
			grid-template-columns: repeat(2, 1fr);

			@include from(large) {
				grid-template-columns: repeat(#{$i}, 1fr);
			}
		}
	}

	li.product {
		display: flex;
		flex-direction: column;
		width: 100% !important; // Override: Grilla de woocommerce.
		float: none;
		margin: 0 !important; // Override: Grilla de woocommerce.

		&:hover a:not(.button) {
			opacity: 1; // Prevenir que etiquetas de oferta queden por detrás.
		}

		a.woocommerce-loop-product__link {
			margin-bottom: 0.5rem;

			img {
				margin-bottom: 0;
				border-radius: $border-radius;
			}

			&:focus {
				outline: none;

				> img {
					outline: 2px dotted currentColor;
				}
			}
		}

		// Título.
		.woocommerce-loop-product__title {
			padding-bottom: 0;
			font-size: 1.1em;
			color: var(--startwp--color--foreground);
		}

		// Agregar al carrito.
		.button {
			width: 100%;
			margin-top: auto;
			text-align: center;

			&.added {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&.outofstock .button {
			color: var(--startwp--color--error);
			background-color: var(--startwp--color--white);
			border: 1px solid var(--startwp--color--error);
		}

		// Ver carrito.
		.added_to_cart {
			width: 100%;
			padding: 0.25em;
			text-align: center;
			color: var(--startwp--color--foreground);
			border: 1px solid currentColor;
			border-top-width: 0;
			border-bottom-left-radius: $border-radius;
			border-bottom-right-radius: $border-radius;
		}
	}
}

/**
 * Paginación
 */
nav.woocommerce-pagination {
	// Quitar bordes.
	ul,
	ul li {
		border: none;
	}

	ul li {
		min-width: 2.2rem;
	}
}
